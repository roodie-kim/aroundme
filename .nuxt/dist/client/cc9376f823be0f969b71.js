(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{237:function(t,e,n){var content=n(269);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("13bb5ffb",content,!0,{sourceMap:!1})},238:function(t,e,n){var content=n(271);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("532b0eb9",content,!0,{sourceMap:!1})},268:function(t,e,n){"use strict";var o=n(237);n.n(o).a},269:function(t,e,n){(e=n(15)(!1)).push([t.i,".category-select[data-v-e60bae42]{width:200px}.category-select[data-v-e60bae42],.title-input[data-v-e60bae42]{margin-bottom:20px}.quill-editor[data-v-e60bae42]{margin-bottom:10px}.button-outer[data-v-e60bae42]{padding:20px 0 0;display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}.button-submit[data-v-e60bae42]{min-width:120px}.title-input[data-v-e60bae42]{padding:12px 15px;margin-bottom:20px}",""]),t.exports=e},270:function(t,e,n){"use strict";var o=n(238);n.n(o).a},271:function(t,e,n){(e=n(15)(!1)).push([t.i,".quill-editor[data-v-39662258]{margin-bottom:10px}.button-outer[data-v-39662258]{padding:20px 0 0;display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}.button-submit[data-v-39662258]{min-width:120px}.title-input[data-v-39662258]{padding:12px 15px;margin-bottom:20px}",""]),t.exports=e},298:function(t,e,n){"use strict";n.r(e);n(77),n(93),n(12);var o,l=n(2),r=n(29),c={data:function(){return{quill:null,post:{title:"",body:"",board_type:null,tags:null},tags:""}},computed:{boards:function(){var t=Object(r.a)(this.$store.state.boards.boards);return t}},methods:{updateBody:function(){this.post.body=JSON.stringify(this.quill.getContents())},submit:(o=Object(l.a)(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=this.validateBeforeSubmit()).status){t.next=5;break}this.$buefy.toast.open(e.message),t.next=10;break;case 5:return this.post.tags=this.parsedTags,t.next=8,this.$store.dispatch("posts/createPost",this.post);case 8:(n=t.sent).status?(this.$buefy.toast.open("등록되었습니다."),this.$router.push("/posts/".concat(n.data.id))):this.$buefy.toast.open("등록이 실패하였습니다. 나중에 다시 시도해주세요.");case 10:case"end":return t.stop()}}),t,this)}))),function(){return o.apply(this,arguments)}),validateBeforeSubmit:function(){var t={status:!1};return this.post.title&&""!==this.post.title.trim()?0!==this.quill.getText().trim().length||this.quill.container.firstChild.innerHTML.includes("img")||this.quill.container.firstChild.innerHTML.includes("video")?(t.status=!0,t):(t.message="내용을 작성해주세요.",t):(t.message="글 제목을 입력해주세요.",t)}},mounted:function(){var t={modules:{toolbar:{container:[[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{align:"center"},{align:"right"},{align:"justify"}],["link","image"]],handlers:{image:this.imageHandler}}},theme:"snow"},e=n(236),o=this.$refs.quillEditor;this.quill=new e(o,t),this.quill.on("text-change",this.updateBody),null!==this.$store.state.boards.currentBoard&&(this.post.board_type=this.$store.state.boards.currentBoard.cd)}},d=(n(268),n(4)),m=Object(d.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("h4",{staticClass:"title is-size-4"},[t._v("새글쓰기")]),t._v(" "),n("b-select",{staticClass:"category-select",attrs:{placeholder:"카테고리를 선택하세요",expanded:""},model:{value:t.post.board_type,callback:function(e){t.$set(t.post,"board_type",e)},expression:"post.board_type"}},t._l(t.boards,(function(e){return n("option",{key:e.name,domProps:{value:e.cd}},[t._v("\n            "+t._s(e.name)+"\n        ")])})),0),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"input title-input",attrs:{placeholder:"제목"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}}),t._v(" "),n("div",{ref:"quillEditor",staticClass:"quill-editor",on:{click:t.focusOnQuill}}),t._v(" "),n("div",{staticClass:"button-outer"},[n("button",{staticClass:"button is-primary button-submit",on:{click:t.submit}},[n("strong",[t._v("등록하기")])])])],1)}),[],!1,null,"e60bae42",null).exports,v={extends:m},h=(n(270),Object(d.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",staticStyle:{padding:"0 10px"}},[n("h4",{staticClass:"title is-size-4"},[t._v("새글쓰기")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.post.title,expression:"post.title"}],staticClass:"input title-input",attrs:{placeholder:"제목"},domProps:{value:t.post.title},on:{input:function(e){e.target.composing||t.$set(t.post,"title",e.target.value)}}}),t._v(" "),n("div",{ref:"quillEditor",staticClass:"quill-editor",on:{click:t.focusOnQuill}}),t._v(" "),n("p",{staticClass:"has-text-grey-light",staticStyle:{"font-size":"14px"}},[t._v("태그는 스페이스 혹 콤마로 구분되며 최대 10개까지 사용할 수 있습니다.")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.tags,expression:"tags"}],staticClass:"input title-input",staticStyle:{"margin-bottom":"5px"},attrs:{placeholder:"태그"},domProps:{value:t.tags},on:{input:function(e){e.target.composing||(t.tags=e.target.value)}}}),t._v(" "),n("div",{staticClass:"flex",staticStyle:{"flex-wrap":"wrap"}},t._l(t.parsedTags,(function(e,o){return n("span",{key:o,staticClass:"has-text-warm-red",staticStyle:{"font-size":"14px","margin-right":"10px"}},[t._v("\n            #"+t._s(e)+"\n        ")])})),0),t._v(" "),n("div",{staticClass:"button-outer"},[n("button",{staticClass:"button is-primary button-submit",on:{click:t.submit}},[n("strong",[t._v("등록하기")])])])])}),[],!1,null,"39662258",null).exports),f={middleware:"authorized",name:"PostCreate",computed:{isMobile:function(){return this.$device.isMobile?h:m}}},x=Object(d.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"container"},[e(this.isMobile,{tag:"component"})],1)}),[],!1,null,"01c9edc4",null);e.default=x.exports}}]);